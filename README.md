# Reboot_DE_testproject

## Лаба 3. Работа с графом социальных связей

## Дедлайн

Четверг, 8 июля, 23:59.

## Задача

По имеющимся данным о друзьях в соцсетях (estkontakt: 20 000 пользователей) расчитать среднее значение числа Данбара и сравнить корреляцию с профессией.
Проверить теорию шести рукопожатий: для всех возможных пар (`userid1` , `userid2`) построить кратчайшую цепочку связей и убедиться, что нет ни одной цепочки с длиной более 6.

## Описание данных

Имеются следующие входные данные:

* Таблица `users x friends` с связями user_id -> user_id. Архив с датасетом будет находиться в HDFS (/data/lab3/var/social_graph.zip). Файл u.users_x_friends содержит все связи, а файл u.users — базовые данные по всем пользователем.

`!hdfs dfs -ls /data/lab3/var`

* `var` номер варианта проекта

## Результат

Выходной формат файла — json. Пример решения:

```json
{
   "professionid" : 10,
   "profession" : "doctor",
   "danbar_value" : 133.67,
   "dispersion" : 50.28
},

{
   "professionid" : 11,
   "profession" : "teacher",
   "danbar_value" : 284.52,
   "dispersion" : 70.49
},

{
   "professionid" : 12,
   "profession" : "driver",
   "danbar_value" : 90.15,
   "dispersion" : 34.83
}
```

В поле `“profession”` нужно указать для заданного `professionid` нужно указать расшифровку. Расшифровку можно взять из справочника в Oracle. Таблица lab_data.prof_dictionary.

В поле `“danbar_value”` нужно указать среднее арифметическое числа Данбара, рассчитанное для всех пользователей той же профессии. Алгоритм расчета описан ниже.

В поле `“dispersion”` нужно указать значение дисперсии числа Данбара для данной группы. Формула расчета дисперсии описана ниже.

## Проверка

Файл необходимо положить в свою домашнюю директорию на кластере под названием: `lab3.json`.
